#include <Arduino.h>
#include <Wire.h>
#include <LiquidCrystal_I2C.h>

//////////////Variables para definicion de pines //////////////////////////////
///////////////////////////////////////////////////////////////////////////////
unsigned int output_led = 2;
unsigned int output_rele = 13;

unsigned int adc_bat = A0;
///////////////////////////////////////////////////////////////////////////////


/////////variables para control carga/////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////
unsigned int pwm = 100;
float vbat = 0;
float vin = 0;
float ic=0;

int iLimite = 2;
float iMinimo = 0.1;
float vbat_max = 14.2;//14.4 valor tipico (estamos limitados por nuestra fuente de alimentacion)
float vbat_float = 13.4;//13.5 valor tipico (estamos limitados por nuestra fuente de alimentacion)

String mode = "bulk";
//mode : "bulk"; modo de carga a corriente constante "iLimite"
//mode : "absor" ; modo de carga a tension constante "vbat_max"
//mode : "float"; modo de carga a tension constante "vbat_float"


////////////////////////////////////////////////////////////////////////////////


//////////////// INICIALIZAR INA226 ///////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////
//INA226 ina(Wire);
////////////////////////////////////////////////////////////////////////////////

////////////////INCIALIZAR LCD /////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////
LiquidCrystal_I2C lcd(0x27,20,4);  // set the LCD address to 0x27 o 0x20 o 0x3F
////////////////////////////////////////////////////////////////////////////////